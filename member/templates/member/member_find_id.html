{% extends 'base.html' %}
{% block title %}빅메가박스{% endblock %}
{% block script %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function () {
        $('#name').focus(function () {
            $(this).css('color',"black")
        })
        $('#birth').focus(function () {
            $(this).css('color',"black")
        })
        $('#tel').focus(function () {
            $(this).css('color',"black")
        })
        $('#b1').click(function () {
            nameVal=$('#name').val()
            birthVal=$('#birth').val()
            telVal=$('#tel').val()
            if(nameVal==''||nameVal=='이름을 입력해주세요.'||birthVal==''||birthVal=='법정생년월일 6자리를 입력해주세요.'||telVal==''||telVal=="휴대전화번호를 입력해주세요.('-'제외)"){
                alert('입력되지 않은 정보가 있습니다.')
                return false
            }else{
                if(birthVal.length!=6){
                    alert("생년월일 '6자리'를 입력해 주세요")
                    return false
                }else{
                    if(!(telVal.length==10||telVal.length==11)){
                        alert("휴대전화번호를 입력해주세요.('-'제외)")
                                return false
                    }
                    else{
                        return true
                    }
                }
            }
        })
        $('#name').keyup(function () {
            nameVal=$('#name').val()
            birthVal=$('#birth').val()
            telVal=$('#tel').val()
            if(!(nameVal==''||nameVal=='이름을 입력해주세요.')){
                if(birthVal.length==6){
                    if(telVal.length>=10&&telVal.length<=11){
                        $('#b1').attr('class','btn btn-primary')
                    }else{
                        $('#b1').attr('class','btn btn-secondary')
                    }
                }else{
                    $('#b1').attr('class','btn btn-secondary')
                }
            }else{
                $('#b1').attr('class','btn btn-secondary')
            }
        })
        $('#birth').keyup(function () {
            nameVal=$('#name').val()
            birthVal=$('#birth').val()
            telVal=$('#tel').val()
            if(!(nameVal==''||nameVal=='이름을 입력해주세요.')){
                if(birthVal.length==6){
                    if(telVal.length>=10&&telVal.length<=11){
                        $('#b1').attr('class','btn btn-primary')
                    }else{
                        $('#b1').attr('class','btn btn-secondary')
                    }
                }else{
                    $('#b1').attr('class','btn btn-secondary')
                }
            }else{
                $('#b1').attr('class','btn btn-secondary')
            }
        })
        $('#tel').keyup(function () {
            nameVal=$('#name').val()
            birthVal=$('#birth').val()
            telVal=$('#tel').val()
            if(!(nameVal==''||nameVal=='이름을 입력해주세요.')){
                if(birthVal.length==6){
                    if(telVal.length>=10&&telVal.length<=11){
                        $('#b1').attr('class','btn btn-primary')
                    }else{
                        $('#b1').attr('class','btn btn-secondary')
                    }
                }else{
                    $('#b1').attr('class','btn btn-secondary')
                }
            }else{
                $('#b1').attr('class','btn btn-secondary')
            }
        })

    })
    function enterkey(){ //엔터 치면 확인버튼 눌림
        if (window.event.keyCode == 13) {
             $('#b1').click()
        }
    }
    </script>
{% endblock %}
{% block content %}
<h1>아이디 찾기</h1>
<hr color="blue">
    <h6><font color="#808080"><font style="color: dodgerblue">아이디가 기억나지 않으세요?</font><br> 본인인증 시 제공되는 정보는 해당 인증기관에서 직접 수집 하며,<br> 인증 이외의 용도로 이용 또는 저장하지 않습니다.</font></h6>
    <div>
    <form action="{% url 'member_find_id_success' %}" method="post">
        {% csrf_token %}
<table style="width: 800px">
    <tr>
        <td><br><input type="text" style="width: 320px;height:40px;color: dimgray" value="이름을 입력해주세요." id="name" name="name" onfocus="this.value=''"></td>
    </tr>
    <tr>
        <td><br><input type="text" style="width: 320px;height:40px;color: dimgray" value="법정생년월일 6자리를 입력해주세요." id="birth" name="birth" onfocus="this.value=''"></td>
    </tr>
    <tr>
        <td><br><input type="text" style="width: 320px;height:40px;color: dimgray" onkeyup="enterkey()" value="휴대전화번호를 입력해주세요.('-'제외)" id="tel" name="tel" onfocus="this.value=''"></td>
    </tr>
    <tr>
        <td><br><button id="b1" style="width: 320px;" type="submit" class="btn btn-secondary">아이디 찾기</button></td>
    </tr>
</table>
        </form>
    </div>
{% endblock %}
